<!DOCTYPE html>
<html lang="{{ lang|default('en') }}" dir="{{ direction|default('ltr') }}">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>{{ page_title|default('Sign In') }}
			-
			{{ site_name|default('DB Conn') }}</title>

		{# Preload critical fonts #}
		<link rel="preload" href="{{ plugin_url ~ 'public/fonts/DanaVF.woff2' }}" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="https://cdn-uicons.flaticon.com/3.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css" as="style">
		<link
		rel="preload" href="https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-rounded/css/uicons-solid-rounded.css" as="style">

		{# Stylesheets #}
		<link rel="stylesheet" href="{{ plugin_url ~ 'public/css/style.css?ver=' ~ plugin_version }}">
		<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>
		<link
		rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>

		{# Inline Preloader Styles - Load immediately #}
		<style>
			#page-preloader {
				position: fixed;
				inset: 0;
				background-color: rgba(255, 255, 255, 0.8);
				backdrop-filter: blur(8px);
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 9999;
				transition: opacity 0.3s ease;
			}
			.loader {
				width: 50px;
				padding: 8px;
				aspect-ratio: 1;
				border-radius: 50%;
				background: #00a796;
				--_m: conic-gradient(#0000 10%, #000), linear-gradient(#000 0 0) content-box;
				-webkit-mask: var(--_m);
				mask: var(--_m);
				-webkit-mask-composite: source-out;
				mask-composite: subtract;
				animation: spin 1s infinite linear;
			}
			@keyframes spin {
				to {
					transform: rotate(1turn);
				}
			}
			#page-preloader.hidden {
				opacity: 0;
				pointer-events: none;
			}
		</style>
	</head>
	<body
		class="min-h-screen bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center p-4 ss02">

		{# Preloader - First element in body #}
		<div id="page-preloader">
			<div class="loader"></div>
		</div>

		<div class="w-full max-w-md">
			<div class="text-center mb-8">
				<h1 class="text-4xl font-bold text-white">{{ site_name|default('DB Conn') }}</h1>
			</div>

			<div class="bg-white rounded-2xl shadow-2xl p-8">
				<h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">{{ page_title }}</h2>
				{% block content %}{% endblock %}
			</div>

			<div class="mt-8 text-center text-white text-sm">
				<p>&copy;
					{{ current_year|default('2025') }}
					{{ site_name|default('DB Conn') }}</p>
			</div>
		</div>

		<script>
			// Hide preloader when fonts are loaded
document.fonts.ready.then(() => {
const preloader = document.getElementById('page-preloader');
if (preloader) {
preloader.classList.add('hidden');
setTimeout(() => preloader.remove(), 300);
}
});
		</script>
		<script src="{{ plugin_url ~ 'public/js/script.js?ver=' ~ plugin_version }}"></script>
	</body>
</html>
